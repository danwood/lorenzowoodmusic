@import 'include_constants';

// Needs the 'hero' stuff on this page
@import 'include_hero';

/*
================================================================================

Home-Page ONLY classes.

================================================================================
*/


h2 {
	font-size:4em;
	text-align:center;
	margin: 2rem 0 1rem 0;
}

/*
----------------------------------------
Colors
----------------------------------------
*/

section.mailchimp-section {
	background-color:var(--color3);
}

section.bio {
	background-color:var(--color6);
}

section.gigs {
	background-color:var(--color3);

	a {
		color:hsl(0, 35%, 43%);
	}

	a.bit-track {
		color:var(--cPaperH);
	}
}

.scrolldown {
	stroke:purple;
}


/*
----------------------------------------
Latest Releases Section
----------------------------------------
*/

.latest-releases {

	h3 {
		font-size:2rem;
		a {
			text-decoration:none;

			&:hover {
				text-decoration:underline;
			}
		}
	}
	h4 {
		font-size:100%;
		font-weight:normal;
		font-style:italic;
	}

	article {

		display:block;

		// Lots of space in between
		padding-top:4em;
		padding-bottom:4em;

		@media only screen and (min-width:$mainBreakpoint) {

			// don't need as much space
			padding-top:2.5em;
			padding-bottom:2.5em;

			display:flex;

			margin:0 auto;
			max-width:90rem;
		}
	}


	.release-image img {
		width:100%;		// override img inline dimensions
		height:auto;	// override img inline dimensions
		max-height:320px;	// help make sure square min size for square
		max-width:320px;	// if we don't specify max-width too, with square aspect ratio, it will get anamorphic
		display:block;
		transition:transform .5s ease;
		&:hover {
			box-shadow:0px 0px 5px 0px rgba(255,255,255,0.9);
  			transform:scale(1.05);
		}
	}


	.release-text p, .release-text blockquote {
		max-width:65ch;
	}

	@media only screen and (max-width:$mainBreakpoint - 1px) {

		// SEE THE coverArtSizes DECLARATION IN index.php.pug TO MAKE SURE THIS BREAKPOINT IS LINED UP WITH THAT WIDTH CALC

		.release-image img {
			margin:0 auto;
		}

		h3, h4 {
			text-align:center;
			margin-top:0.5rem;
			margin-bottom:0;
		}
	}


	@media only screen and (min-width:$mainBreakpoint) {

		.release-image {
			flex-basis:22.22%;
			z-index:10;			// make sure it goes above neighboring block. But not above modals & menus.
		}

		.release-text {
			flex-basis:38.28%;
			padding:0 2em;

			h3, h4 {
				margin:0;
			}
		}

		.no-video .release-text {
			flex-basis:77.78%;
		}

		.release-video {
			flex-basis:39.5%;	// width that makes the video be the same height as the artwork
		}
	}

	article.reversed {
		flex-direction:row-reverse;
	}

	.dark-text {
		color:rgba(0,0,0,0.9)!important;
	}
	.dark-text a {
		color:rgba(0,0,0,0.6)!important;
	}
	.light-text {
		color:rgba(255,255,255, 0.9)!important;
	}
	.light-text a {
		color:rgba(255,255,255,0.6)!important;
	}

	.release-image.bordered img {
		border:1px solid rgba(255,255,255,0.5);
	}
}




/*
----------------------------------------
Bands in Town
----------------------------------------
*/


.bit-row {
	padding:6px 0;
	border-bottom:1px solid var(--cPaperL);
}
.bit-header { 
	font-weight:bold;
}


.bit-row.bit-upcoming {
	a {
		text-decoration:none;
		color:var(--cInkH);
	}
}

.bit-date {
	padding-left:5px;
	text-transform:uppercase;
	font-weight:bold;
	display:inline-block;
	width:7em;
}

.bit-date, .bit-venue, .bit-citystate {
	padding-top:10px;
}

.bit-button {
	color:var(--cPaperH);
	background-color:var(--cLink);
	padding:10px;
	display:inline-block;
	text-align:center;
	width:8em;
	text-transform:uppercase;
	font-weight:bold;
	font-size:90%;
	float:right;
}

.bit-after { padding-top:1em; }


@media only screen and (max-width:($mainBreakpoint - 1px)) {

	/* Bands in town just show square logo */
	.bit-header-full {
		display:none;
	}
	.bit-date, .bit-venue, .bit-citystate, .bit-button {
		display:block;
	}
	.bit-date, .bit-venue, .bit-citystate {
		padding:0;
	}
}

@media only screen and (min-width:$mainBreakpoint) {

	/* Bands in town just show square logo */
	.bit-header-mobile {
		display:none;
	}

	/* Make track link be a button */
	.bit-track { text-decoration:none; color:var(--cPaperH); background-color:var(--cLink); padding:10px; margin-right:0.5rem; }

	/* Separator for city-state */
	.bit-citystate::before { content:' â€” '; }

}


/*
----------------------------------------
Mailing
----------------------------------------
*/


.taller {
	margin:1em auto;
}

.mailchimp-section {
	padding-top:0;
	padding-bottom:0;
	form, input {
		display:inline-block;
	}
	input:not([type]), input[type=text], input[type=email], input[type=submit] {
		padding:0.5rem; margin:0.5rem 0.5rem;
		font:normal 16px HelveticaNeue-CondensedBold, impact, sans-serif;
	}
}
#mce-FNAME { width:6em;}
#mce-LNAME { width:9em;}
#mce-EMAIL { width:10em;}

@media only screen and (max-width:($mainBreakpoint - 1px)) {

	.mailchimp-section {
		padding-top:0.5rem;
		padding-bottom:0.5rem;
		h3, form, input {
			display:block;
		}
		h3 { padding:0; margin:0.5rem 0.5rem; }
		input:not([type]), input[type=text], input[type=email], input[type=submit] {
			padding:0.5rem;
			margin:0.5rem 0.5rem;
		}
	}
	#mce-FNAME, #mce-LNAME, #mce-EMAIL { width:90%;}
}


/*
----------------------------------------
Modal for Contact Form
----------------------------------------
*/

#cover {
	position:fixed;
	top:0;left:0;
	background:rgba(0,0,0,0.5);
	z-index:20;
	width:100%;
	height:100%;

	// Center contents
	display: flex;
	align-items: center;
	justify-content: center;
	flex-direction: column;
}
.modal {
	min-width:240px;
	min-height:300px;
	margin:auto auto;
	background-color:var(--cPaperH);
	border:5px solid black;
	border-radius:10px;
	padding:10px;
	z-index:21;
}
#close-modal {
	position:fixed;
	top:0;
	right:40px;
	font-size:600%;
	color:var(--cPaperH);
	z-index:22;
	text-shadow:0 0 4px var(--cInkH);
	cursor:pointer;
}


.spotify-embed {
	position:relative;
	padding-top:100%;
	height:80px;
	max-width:100%;
	box-sizing: content-box;

	iframe {
		position:absolute;
		top:0;
		left:0;
		width:100%;
		height:100%;
		min-width:230px;
		min-height:310px;
	}
}

/*
----------------------------------------
Production
----------------------------------------
*/

// BREAKPOINTS

						  // ONE COLUMN NARROW:  Minimal margins. One column, text ABOVE preview. 10 + 230 + 10 is what we could handle
$minOneColumnWide: 490px; // ONE COLUMN WIDE:    Minimal margins. One column, text next to preview. 10 + 230 + 10 + 230 + 10 = 490
$minTwoColumn:     768px; // TWO COLUMNS NARROW: Minimal margins. Two columns, text ABOVE preview. (10 + 364 + 10) * 2 
$minDoubleWideVideo: 975px; // wide enough for text next to video, empirical. Too narrow and stuff gets cropped.

$gutterX: 1.3vw;		// always this gutter between cards
$gutterY: 5.2vw;		// always this gutter between cards

section.production {
	padding:0 $gutterX;				// left-right padding
}

.productiongrid {

	// Default font size based on width of entire screen for one card (or cardless display)
	// Let's say 1em = 10px on a 320 screen, then scale up linearly so that it's 20px on 640 and 30px on 960. We're switching to 2-up by then.
    @include fluid-type(20rem, 60rem, 0.625rem, 1.875rem);

	// GRID when there is enough room for ONE OR MORE CARDS

	display: grid;
	grid-auto-flow: dense;
	column-gap: $gutterX;
	row-gap: $gutterY;

	align-items:stretch;		// each item should stretch vertically to fill up the grid area
	justify-items:stretch;		// each item should stretch horizontally to fill up the grid area
	justify-content: center;	// center the grid of items in the grid container

	@media only screen and (min-width:$minTwoColumn) {		// Big enough for one or more cards with text side-by-side with cover
  		grid-template-columns: 1fr 1fr;

 	 	// Reset card type now that it's two across. Tweaked to give as close to 1rem but small enough to fit with names we need!
 	 	@include fluid-type(48rem, 96rem, 0.8rem, 1.6rem);
	}

	section {
		position: relative;
		overflow:hidden;

		&::after {
			content: '';
			position: absolute;
			font-size:0.6em;
			color: --var(cInkL);
			right: 8px;
			top: 4px;
		}
		&.y2018::after { content: '2018' }
		&.y2019::after { content: '2019' }
		&.y2020::after { content: '2020' }
		&.y2021::after { content: '2021' }
		&.y2022::after { content: '2022' }
		&.y2023::after { content: '2023' }
	}

	section.photo {			// must specify background-image URL in HTML. Roughly 1.4:1 aspect ratio but it can be cropped a bit in either direction.

		display: block;
		background-size:     cover; 
		background-repeat:   no-repeat;
		background-position: center center;

		// when single-column mode, show photo centered and a bit smaller.
		@media only screen and (max-width:$minTwoColumn - 1) {
			width:66.67%;
			padding-top:41%;		// should be approx the width / 1.618
			margin: 0 auto;
		}
	}

	section.video {					// Wide article with video preview

		@media only screen and (min-width:$minTwoColumn) {		//  Big enough for 2 cover cards side by side, and for video to show fully to match
			grid-column-end: span 2;
		}
		@media only screen and (min-width:$minDoubleWideVideo) {		// Big enough for text side-by-side with video 
			display: grid;					// Section is itself a grid
			grid-template-columns:  1fr minmax(675px, 755px);		// size to match height of spotify embed, as long as nothing else is forcing smaller spotify
	  		column-gap: $gutterX;
		}
	}

	section.cover {					// Narrow article with tall cover-art embed

		@media only screen and (min-width:$minOneColumnWide) {		// Big enough for text side-by-side with cover
			display: grid;					// Section is itself a grid
			grid-template-columns:  1fr minmax(230px, 29.948vw);	// make sure 2nd column is 230px minimum, maximum of 230 when screen in 768.
	  		column-gap: $gutterX;
		}
	}

	h1, h2, h3, h4, article, aside {
		margin: 0;
		padding: 0;
	}

	h3 {				// Client
		font-size:2.2em;
		line-height:1;
	}
	h4 {				// Project
		font-size:1.6em;
		line-height:1;
		font-weight:400;
		font-style: italic;
		margin-top: 0.6em;
	}

	p {
		margin: 0.6em 0;
	}

}

